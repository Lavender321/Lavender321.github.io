<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>前端场景题 | Lavender's blog</title><meta name="author" content="流泪猫猫头"><meta name="copyright" content="流泪猫猫头"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="点击按钮不重复发送请求 一个按钮，用户点击会发送请求，如何做才能在用户反复点击按钮时不重复发送请求？ 要防止用户在反复点击按钮时重复发送请求，可以使用以下几种策略： 禁用按钮在发送请求时禁用按钮，直到请求完成。这样可以防止用户在请求未完成前再次点击按钮。 使用节流（Throttle）节流函数在特定时间段内只允许触发一次操作，无论用户点击按钮多少次。 使用防抖（Debounce）防抖函数可以确保在一">
<meta property="og:type" content="article">
<meta property="og:title" content="前端场景题">
<meta property="og:url" content="http://lavender321.github.com/2024/07/26/%E5%89%8D%E7%AB%AF%E5%9C%BA%E6%99%AF%E9%A2%98/index.html">
<meta property="og:site_name" content="Lavender&#39;s blog">
<meta property="og:description" content="点击按钮不重复发送请求 一个按钮，用户点击会发送请求，如何做才能在用户反复点击按钮时不重复发送请求？ 要防止用户在反复点击按钮时重复发送请求，可以使用以下几种策略： 禁用按钮在发送请求时禁用按钮，直到请求完成。这样可以防止用户在请求未完成前再次点击按钮。 使用节流（Throttle）节流函数在特定时间段内只允许触发一次操作，无论用户点击按钮多少次。 使用防抖（Debounce）防抖函数可以确保在一">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg">
<meta property="article:published_time" content="2024-07-26T03:09:50.000Z">
<meta property="article:modified_time" content="2024-08-08T13:44:19.816Z">
<meta property="article:author" content="流泪猫猫头">
<meta property="article:tag" content="面试">
<meta property="article:tag" content="场景题">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><link rel="shortcut icon" href="https://s2.loli.net/2022/10/08/k5M7H1NdmnZgtlY.png"><link rel="canonical" href="http://lavender321.github.com/2024/07/26/%E5%89%8D%E7%AB%AF%E5%9C%BA%E6%99%AF%E9%A2%98/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 流泪猫猫头","link":"链接: ","source":"来源: Lavender's blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '前端场景题',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-08-08 21:44:19'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = url => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      link.onload = () => resolve()
      link.onerror = () => reject()
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://s2.loli.net/2023/03/01/ObQE3TvFKInczfl.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">66</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">81</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Lavender's blog"><span class="site-name">Lavender's blog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">前端场景题</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-07-26T03:09:50.000Z" title="发表于 2024-07-26 11:09:50">2024-07-26</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-08-08T13:44:19.816Z" title="更新于 2024-08-08 21:44:19">2024-08-08</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="前端场景题"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="点击按钮不重复发送请求"><a href="#点击按钮不重复发送请求" class="headerlink" title="点击按钮不重复发送请求"></a>点击按钮不重复发送请求</h1><p> 一个按钮，用户点击会发送请求，如何做才能在用户反复点击按钮时不重复发送请求？</p>
<p>要防止用户在反复点击按钮时重复发送请求，可以使用以下几种策略：</p>
<h3 id="禁用按钮"><a href="#禁用按钮" class="headerlink" title="禁用按钮"></a>禁用按钮</h3><p>在发送请求时禁用按钮，直到请求完成。这样可以防止用户在请求未完成前再次点击按钮。</p>
<h3 id="使用节流（Throttle）"><a href="#使用节流（Throttle）" class="headerlink" title="使用节流（Throttle）"></a>使用节流（Throttle）</h3><p>节流函数在特定时间段内只允许触发一次操作，无论用户点击按钮多少次。</p>
<h3 id="使用防抖（Debounce）"><a href="#使用防抖（Debounce）" class="headerlink" title="使用防抖（Debounce）"></a>使用防抖（Debounce）</h3><p>防抖函数可以确保在一段时间内只执行一次函数。</p>
<h3 id="使用请求状态管理"><a href="#使用请求状态管理" class="headerlink" title="使用请求状态管理"></a>使用请求状态管理</h3><p>维护请求状态，防止重复发送请求。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul>
<li><strong>禁用按钮</strong>：简单直接，适合多数情况。</li>
<li><strong>节流</strong>：限制函数调用频率，适用于频繁点击。</li>
<li><strong>防抖</strong>：确保函数在最后一次点击后执行一次，适用于短时间内多次点击的情况。</li>
<li><strong>请求状态管理</strong>：跟踪请求状态，避免重复请求。</li>
</ul>
<h1 id="控制请求并发的数量，例如有8个请求需要发送，如何控制同时只能并行发送两个请求"><a href="#控制请求并发的数量，例如有8个请求需要发送，如何控制同时只能并行发送两个请求" class="headerlink" title="控制请求并发的数量，例如有8个请求需要发送，如何控制同时只能并行发送两个请求"></a>控制请求并发的数量，例如有8个请求需要发送，如何控制同时只能并行发送两个请求</h1><p>要控制请求的并发数量，比如限制同时只能并行发送两个请求，可以使用以下几种方法：</p>
<h3 id="使用并发限制库"><a href="#使用并发限制库" class="headerlink" title="使用并发限制库"></a>使用并发限制库</h3><p>使用现成的库，如 <code>p-limit</code> 或 <code>async</code>，可以很方便地限制并发请求的数量。</p>
<h4 id="使用-p-limit"><a href="#使用-p-limit" class="headerlink" title="使用 p-limit"></a>使用 <code>p-limit</code></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install p-limit</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pLimit <span class="keyword">from</span> <span class="string">&#x27;p-limit&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一个并发限制器，限制同时只能运行2个任务</span></span><br><span class="line"><span class="keyword">const</span> limit = <span class="title function_">pLimit</span>(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 模拟请求函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">fetchRequest</span> = <span class="keyword">async</span> (<span class="params">id</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Request <span class="subst">$&#123;id&#125;</span> started`</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Request <span class="subst">$&#123;id&#125;</span> finished`</span>);</span><br><span class="line">    <span class="title function_">resolve</span>(id);</span><br><span class="line">  &#125;, <span class="number">1000</span>));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 请求数组</span></span><br><span class="line"><span class="keyword">const</span> requests = <span class="title class_">Array</span>.<span class="title function_">from</span>(&#123; <span class="attr">length</span>: <span class="number">8</span> &#125;, <span class="function">(<span class="params">_, i</span>) =&gt;</span> <span class="function">() =&gt;</span> <span class="title function_">fetchRequest</span>(i + <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用限制器执行请求</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">executeRequests</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> <span class="title class_">Promise</span>.<span class="title function_">all</span>(requests.<span class="title function_">map</span>(<span class="function">(<span class="params">request</span>) =&gt;</span> <span class="title function_">limit</span>(request)));</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;All requests completed&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">executeRequests</span>();</span><br></pre></td></tr></table></figure>

<h4 id="使用-async-库的-queue-功能"><a href="#使用-async-库的-queue-功能" class="headerlink" title="使用 async 库的 queue 功能"></a>使用 <code>async</code> 库的 <code>queue</code> 功能</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install async</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">async</span> <span class="keyword">from</span> <span class="string">&#x27;async&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一个并发限制队列，限制同时只能运行2个任务</span></span><br><span class="line"><span class="keyword">const</span> queue = <span class="keyword">async</span>.<span class="title function_">queue</span>(<span class="keyword">async</span> (task, callback) =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> <span class="title function_">task</span>();</span><br><span class="line">  <span class="title function_">callback</span>();</span><br><span class="line">&#125;, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 模拟请求函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">fetchRequest</span> = <span class="keyword">async</span> (<span class="params">id</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Request <span class="subst">$&#123;id&#125;</span> started`</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Request <span class="subst">$&#123;id&#125;</span> finished`</span>);</span><br><span class="line">    <span class="title function_">resolve</span>(id);</span><br><span class="line">  &#125;, <span class="number">1000</span>));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 添加请求到队列</span></span><br><span class="line"><span class="keyword">const</span> requests = <span class="title class_">Array</span>.<span class="title function_">from</span>(&#123; <span class="attr">length</span>: <span class="number">8</span> &#125;, <span class="function">(<span class="params">_, i</span>) =&gt;</span> <span class="function">() =&gt;</span> <span class="title function_">fetchRequest</span>(i + <span class="number">1</span>));</span><br><span class="line">requests.<span class="title function_">forEach</span>(<span class="function">(<span class="params">request</span>) =&gt;</span> queue.<span class="title function_">push</span>(request));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 处理队列完成后的回调</span></span><br><span class="line">queue.<span class="title function_">drain</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;All requests completed&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="手动控制并发"><a href="#手动控制并发" class="headerlink" title="手动控制并发"></a>手动控制并发</h3><p>如果不想使用外部库，可以使用自定义逻辑来控制并发数量。以下是一个示例实现：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个控制并发的函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">limitConcurrency</span> = (<span class="params">tasks, concurrency</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">const</span> results = [];</span><br><span class="line">  <span class="keyword">const</span> executing = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">enqueue</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (index === tasks.<span class="property">length</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> task = tasks[index++];</span><br><span class="line">    <span class="keyword">const</span> p = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="function">() =&gt;</span> <span class="title function_">task</span>());</span><br><span class="line">    results.<span class="title function_">push</span>(p);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> e = p.<span class="title function_">finally</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      executing.<span class="title function_">splice</span>(executing.<span class="title function_">indexOf</span>(e), <span class="number">1</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    executing.<span class="title function_">push</span>(e);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> res = <span class="title class_">Promise</span>.<span class="title function_">race</span>(executing);</span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">then</span>(<span class="function">() =&gt;</span> <span class="title function_">enqueue</span>());</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">all</span>(results);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 模拟请求函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">fetchRequest</span> = <span class="keyword">async</span> (<span class="params">id</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Request <span class="subst">$&#123;id&#125;</span> started`</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Request <span class="subst">$&#123;id&#125;</span> finished`</span>);</span><br><span class="line">    <span class="title function_">resolve</span>(id);</span><br><span class="line">  &#125;, <span class="number">1000</span>));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 请求数组</span></span><br><span class="line"><span class="keyword">const</span> requests = <span class="title class_">Array</span>.<span class="title function_">from</span>(&#123; <span class="attr">length</span>: <span class="number">8</span> &#125;, <span class="function">(<span class="params">_, i</span>) =&gt;</span> <span class="function">() =&gt;</span> <span class="title function_">fetchRequest</span>(i + <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用并发限制函数执行请求</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">executeRequests</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> <span class="title function_">limitConcurrency</span>(requests, <span class="number">2</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;All requests completed&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">executeRequests</span>();</span><br></pre></td></tr></table></figure>

<h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><ul>
<li><strong>使用 <code>p-limit</code></strong> 或 <strong><code>async</code> 库</strong>：提供了简单易用的接口来限制并发请求数量。</li>
<li><strong>手动控制并发</strong>：可以更细粒度地控制并发，但需要更多代码和逻辑处理。</li>
</ul>
<h1 id="排查网络连接"><a href="#排查网络连接" class="headerlink" title="排查网络连接"></a>排查网络连接</h1><p>如果一个用户不能访问你的网站，但其他网站都可以正常访问，这可能涉及多种原因。下面是一些排查步骤和方法来帮助你找到问题的根源：</p>
<h3 id="检查网站是否正常运行"><a href="#检查网站是否正常运行" class="headerlink" title="检查网站是否正常运行"></a>检查网站是否正常运行</h3><ol>
<li><p><strong>检查服务器状态</strong>：</p>
<ul>
<li>确保服务器正在运行且没有崩溃。</li>
<li>使用服务器监控工具（如 UptimeRobot、Pingdom）检查服务器的健康状态。</li>
</ul>
</li>
<li><p><strong>检查应用日志</strong>：</p>
<ul>
<li>查看网站的服务器日志（例如 Nginx、Apache、Node.js、Python 等）来查找错误或异常情况。</li>
</ul>
</li>
<li><p><strong>检查部署和代码</strong>：</p>
<ul>
<li>确保最近的代码部署没有引入错误。</li>
<li>确保所有服务（如数据库、API）都正常运行。</li>
</ul>
</li>
</ol>
<h3 id="检查用户的网络环境"><a href="#检查用户的网络环境" class="headerlink" title="检查用户的网络环境"></a>检查用户的网络环境</h3><ol>
<li><p><strong>检查用户的网络连接</strong>：</p>
<ul>
<li>确保用户的网络连接正常。</li>
<li>尝试让用户使用不同的网络环境（如切换到手机热点）来访问网站。</li>
</ul>
</li>
<li><p><strong>检查DNS解析</strong>：</p>
<ul>
<li>让用户尝试访问网站的 IP 地址，而不是域名，以排除 DNS 问题。</li>
<li>可以使用 <code>nslookup</code> 或 <code>dig</code> 工具检查域名解析是否正确。</li>
</ul>
</li>
<li><p><strong>清除浏览器缓存</strong>：</p>
<ul>
<li>让用户清除浏览器缓存和 cookie，并尝试重新访问网站。</li>
</ul>
</li>
<li><p><strong>使用 VPN</strong>：</p>
<ul>
<li>如果用户在某些国家或地区，可能会遇到网络限制。建议用户尝试使用 VPN 访问网站，看看是否能解决问题。</li>
</ul>
</li>
</ol>
<h3 id="检查网站的访问控制"><a href="#检查网站的访问控制" class="headerlink" title="检查网站的访问控制"></a>检查网站的访问控制</h3><ol>
<li><p><strong>IP 黑名单</strong>：</p>
<ul>
<li>检查是否有 IP 黑名单或防火墙规则阻止了用户的 IP 地址。</li>
<li>确保没有误将用户的 IP 地址列入黑名单。</li>
</ul>
</li>
<li><p><strong>地理位置限制</strong>：</p>
<ul>
<li>确认是否有地理位置限制（如 IP 地址范围限制）导致用户无法访问。</li>
</ul>
</li>
</ol>
<h3 id="检查用户的设备"><a href="#检查用户的设备" class="headerlink" title="检查用户的设备"></a>检查用户的设备</h3><ol>
<li><p><strong>浏览器兼容性</strong>：</p>
<ul>
<li>确保用户使用的浏览器版本与网站兼容。</li>
<li>尝试让用户使用不同的浏览器访问网站。</li>
</ul>
</li>
<li><p><strong>浏览器插件</strong>：</p>
<ul>
<li>检查是否有浏览器插件或扩展（如广告拦截器）干扰网站的访问。</li>
</ul>
</li>
<li><p><strong>安全软件</strong>：</p>
<ul>
<li>有些安全软件或防火墙可能会阻止特定网站的访问。建议用户暂时禁用这些软件，检查是否能访问网站。</li>
</ul>
</li>
</ol>
<h3 id="使用网络调试工具"><a href="#使用网络调试工具" class="headerlink" title="使用网络调试工具"></a>使用网络调试工具</h3><ol>
<li><p><strong>浏览器开发者工具</strong>：</p>
<ul>
<li>让用户打开浏览器的开发者工具（F12），查看控制台是否有错误信息。</li>
<li>在网络面板中检查请求和响应是否正常。</li>
</ul>
</li>
<li><p><strong>在线网络工具</strong>：</p>
<ul>
<li>使用在线工具（如 <a target="_blank" rel="noopener" href="https://www.pingdom.com/">Pingdom</a>、<a target="_blank" rel="noopener" href="https://gtmetrix.com/">GTmetrix</a>）检查网站的响应情况。</li>
</ul>
</li>
</ol>
<h3 id="使用命令行工具"><a href="#使用命令行工具" class="headerlink" title="使用命令行工具"></a>使用命令行工具</h3><ol>
<li><p><strong>Ping</strong>：</p>
<ul>
<li>使用 <code>ping</code> 命令检查服务器是否可达：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping yourwebsite.com</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>Traceroute</strong>：</p>
<ul>
<li>使用 <code>traceroute</code> （或 <code>tracert</code> 在 Windows 上）命令检查网络路径：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">traceroute yourwebsite.com</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>Curl</strong>：</p>
<ul>
<li>使用 <code>curl</code> 命令检查服务器响应：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -I http://yourwebsite.com</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
<h3 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h3><p>通过这些步骤，你可以排查出用户无法访问你的网站的原因。通常需要从服务器状态、用户网络环境、访问控制、用户设备、网络工具等多个方面进行检查，找到并解决问题。</p>
<h1 id="如何更快的让用户看到渲染的页面"><a href="#如何更快的让用户看到渲染的页面" class="headerlink" title="如何更快的让用户看到渲染的页面"></a>如何更快的让用户看到渲染的页面</h1><p>让用户更快地看到渲染的页面涉及到多个方面的优化，涵盖了前端和后端的策略。以下是一些有效的优化方法：</p>
<h3 id="优化页面加载速度"><a href="#优化页面加载速度" class="headerlink" title="优化页面加载速度"></a>优化页面加载速度</h3><ol>
<li><p><strong>压缩和优化资源</strong>：</p>
<ul>
<li><strong>图像优化</strong>：使用现代图像格式（如 WebP）和压缩工具减少图像大小。</li>
<li><strong>压缩文件</strong>：压缩 CSS 和 JavaScript 文件（如使用 <code>gzip</code> 或 <code>brotli</code>）。</li>
<li><strong>合并文件</strong>：合并多个 CSS 和 JavaScript 文件减少 HTTP 请求数量。</li>
</ul>
</li>
<li><p>**使用 Content Delivery Network (CDN)**：</p>
<ul>
<li>将静态资源（如图像、CSS、JavaScript）托管在 CDN 上，以加快全球用户的访问速度。</li>
</ul>
</li>
<li><p><strong>启用浏览器缓存</strong>：</p>
<ul>
<li>配置缓存策略，使浏览器缓存静态资源，减少重复加载时间。</li>
</ul>
</li>
<li><p><strong>延迟加载</strong>：</p>
<ul>
<li><strong>图像和资源的懒加载</strong>：使用 <code>loading=&quot;lazy&quot;</code> 属性或 JavaScript 延迟加载图像和其他资源。</li>
<li><strong>异步加载 JavaScript</strong>：使用 <code>async</code> 或 <code>defer</code> 属性异步加载 JavaScript 文件，避免阻塞渲染。</li>
</ul>
</li>
<li><p><strong>优化 HTML、CSS 和 JavaScript</strong>：</p>
<ul>
<li><strong>Critical CSS</strong>：将关键 CSS 内嵌到 HTML 中，确保在初始页面加载时立即渲染样式。</li>
<li><strong>代码拆分</strong>：将 JavaScript 代码拆分成多个小块，仅加载当前页面所需的部分。</li>
</ul>
</li>
</ol>
<h3 id="提升服务器响应速度"><a href="#提升服务器响应速度" class="headerlink" title="提升服务器响应速度"></a>提升服务器响应速度</h3><ol>
<li><p><strong>服务器性能优化</strong>：</p>
<ul>
<li>使用高效的服务器配置和硬件，确保服务器能够快速响应请求。</li>
<li><strong>数据库优化</strong>：优化数据库查询，使用索引提高数据库访问速度。</li>
</ul>
</li>
<li><p><strong>启用 HTTP&#x2F;2</strong>：</p>
<ul>
<li>HTTP&#x2F;2 支持多路复用，减少延迟，提升加载速度。确保服务器和客户端都支持 HTTP&#x2F;2。</li>
</ul>
</li>
<li><p><strong>使用服务器端缓存</strong>：</p>
<ul>
<li><strong>缓存动态内容</strong>：使用缓存机制（如 Redis、Memcached）存储频繁请求的动态内容。</li>
<li><strong>页面缓存</strong>：缓存静态页面或渲染后的页面，减少对后端的请求。</li>
</ul>
</li>
</ol>
<h3 id="优化用户体验"><a href="#优化用户体验" class="headerlink" title="优化用户体验"></a>优化用户体验</h3><ol>
<li><p><strong>显示占位符内容</strong>：</p>
<ul>
<li>在内容加载之前，显示占位符（如骨架屏、加载动画）给用户反馈，减少感知的加载时间。</li>
</ul>
</li>
<li><p><strong>优先加载关键内容</strong>：</p>
<ul>
<li>优先加载和渲染用户最关注的内容，确保关键内容在页面上快速显示。</li>
</ul>
</li>
<li><p><strong>优化交互和响应时间</strong>：</p>
<ul>
<li>确保用户界面（UI）响应快速，减少用户的等待时间。</li>
</ul>
</li>
</ol>
<h3 id="前端性能优化"><a href="#前端性能优化" class="headerlink" title="前端性能优化"></a>前端性能优化</h3><ol>
<li><p><strong>利用 Service Workers</strong>：</p>
<ul>
<li>使用 Service Workers 实现离线缓存和后台同步，提高页面加载速度和离线体验。</li>
</ul>
</li>
<li><p><strong>减少重绘和重排</strong>：</p>
<ul>
<li>减少浏览器重绘和重排的次数，优化页面性能。</li>
</ul>
</li>
<li><p><strong>使用 Web Performance API</strong>：</p>
<ul>
<li>监测和分析页面性能，使用 Web Performance API （如 <code>Performance</code> 接口）进行性能分析和优化。</li>
</ul>
</li>
</ol>
<h3 id="技术选型和框架优化"><a href="#技术选型和框架优化" class="headerlink" title="技术选型和框架优化"></a>技术选型和框架优化</h3><ol>
<li><p><strong>前端框架优化</strong>：</p>
<ul>
<li><strong>React</strong>：使用 React 的 <code>React.lazy</code> 和 <code>Suspense</code> 进行组件懒加载。</li>
<li><strong>Vue</strong>：使用 Vue 的 <code>async</code> 组件和 <code>vue-router</code> 的懒加载功能。</li>
</ul>
</li>
<li><p><strong>SSR（服务器端渲染）和 SSG（静态站点生成）</strong>：</p>
<ul>
<li>使用服务器端渲染（如 Next.js、Nuxt.js）生成快速响应的页面，或者使用静态站点生成器（如 Gatsby）预生成页面。</li>
</ul>
</li>
</ol>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><p><strong>HTML 优化示例</strong>:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Optimized Page<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="comment">/* Critical CSS */</span></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">body</span> &#123; <span class="attribute">margin</span>: <span class="number">0</span>; <span class="attribute">font-family</span>: Arial, sans-serif; &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.header</span> &#123; <span class="attribute">background</span>: <span class="number">#333</span>; <span class="attribute">color</span>: white; <span class="attribute">padding</span>: <span class="number">1em</span>; <span class="attribute">text-align</span>: center; &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span>Header Content<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;app.js&quot;</span> <span class="attr">defer</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>JavaScript 异步加载示例</strong>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">import</span>(<span class="string">&#x27;./feature-module.js&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">module</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">module</span>.<span class="title function_">initializeFeature</span>();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="总结-3"><a href="#总结-3" class="headerlink" title="总结"></a>总结</h3><ul>
<li><strong>前端优化</strong>：压缩、缓存、懒加载、异步加载和优化资源。</li>
<li><strong>服务器优化</strong>：提升服务器性能、使用 CDN、启用 HTTP&#x2F;2 和缓存。</li>
<li><strong>用户体验</strong>：显示占位符内容、优先加载关键内容、减少感知等待时间。</li>
<li><strong>技术选型</strong>：选择适合的前端框架和使用 SSR 或 SSG。</li>
</ul>
<p>通过这些优化策略，可以显著提升页面加载速度和用户体验。</p>
<h1 id="不同标签页或窗口间的通信的方式"><a href="#不同标签页或窗口间的通信的方式" class="headerlink" title="不同标签页或窗口间的通信的方式"></a>不同标签页或窗口间的通信的方式</h1><p>在不同标签页或窗口间实现主动推送消息机制（不借助服务端），可以通过以下几种方式：</p>
<h2 id="localStorage-事件"><a href="#localStorage-事件" class="headerlink" title="localStorage 事件"></a><code>localStorage</code> 事件</h2><p>浏览器的 <code>localStorage</code> 提供了一种简单的跨标签页或窗口的消息传递方式。<code>localStorage</code> 的变动会触发 <code>storage</code> 事件，这个事件会在所有同源的其他窗口中触发。</p>
<p><strong>优点</strong>：</p>
<ul>
<li>简单易用</li>
<li>广泛支持</li>
</ul>
<p><strong>缺点</strong>：</p>
<ul>
<li>容量限制（通常为 5MB）</li>
<li>非实时（可能有轻微延迟）</li>
</ul>
<p><strong>示例代码</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 发送消息</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sendMessage</span>(<span class="params">message</span>) &#123;</span><br><span class="line">  <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;message&#x27;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(message));</span><br><span class="line">  <span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;message&#x27;</span>); <span class="comment">// 清除存储项，以便多次触发 storage 事件</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 接收消息</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;storage&#x27;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (event.<span class="property">key</span> === <span class="string">&#x27;message&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> message = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(event.<span class="property">newValue</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Received message:&#x27;</span>, message);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 发送消息示例</span></span><br><span class="line"><span class="title function_">sendMessage</span>(&#123; <span class="attr">text</span>: <span class="string">&#x27;Hello from another tab!&#x27;</span> &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="BroadcastChannel-API"><a href="#BroadcastChannel-API" class="headerlink" title="BroadcastChannel API"></a><code>BroadcastChannel</code> API</h2><p><code>BroadcastChannel</code> API 允许同源的不同浏览上下文（如标签页、iframe 等）通过一个发布&#x2F;订阅模型进行消息传递。</p>
<p><strong>优点</strong>：</p>
<ul>
<li>实时消息传递</li>
<li>简单易用</li>
<li>不受 <code>localStorage</code> 的容量限制</li>
</ul>
<p><strong>缺点</strong>：</p>
<ul>
<li>仅现代浏览器支持</li>
</ul>
<p><strong>示例代码</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建频道</span></span><br><span class="line"><span class="keyword">const</span> channel = <span class="keyword">new</span> <span class="title class_">BroadcastChannel</span>(<span class="string">&#x27;my_channel&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 发送消息</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sendMessage</span>(<span class="params">message</span>) &#123;</span><br><span class="line">  channel.<span class="title function_">postMessage</span>(message);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 接收消息</span></span><br><span class="line">channel.<span class="property">onmessage</span> = <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Received message:&#x27;</span>, event.<span class="property">data</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 发送消息示例</span></span><br><span class="line"><span class="title function_">sendMessage</span>(&#123; <span class="attr">text</span>: <span class="string">&#x27;Hello from another tab!&#x27;</span> &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="Shared-Worker"><a href="#Shared-Worker" class="headerlink" title="Shared Worker"></a>Shared Worker</h2><p><code>Shared Worker</code> 允许多个浏览上下文（如多个标签页、iframe 等）共享一个 worker，可以用来在这些上下文之间共享数据和消息。</p>
<p><strong>优点</strong>：</p>
<ul>
<li>强大的功能</li>
<li>可以实现复杂的消息传递和数据共享</li>
</ul>
<p><strong>缺点</strong>：</p>
<ul>
<li>相对复杂</li>
<li>仅现代浏览器支持</li>
</ul>
<p><strong>示例代码</strong>：</p>
<p><strong>shared-worker.js</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 共享 worker 的消息处理</span></span><br><span class="line">onconnect = <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> port = event.<span class="property">ports</span>[<span class="number">0</span>];</span><br><span class="line">  port.<span class="property">onmessage</span> = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="comment">// 向所有连接的端口广播消息</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; ports.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      ports[i].<span class="title function_">postMessage</span>(e.<span class="property">data</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>主页面</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建共享 worker</span></span><br><span class="line"><span class="keyword">const</span> sharedWorker = <span class="keyword">new</span> <span class="title class_">SharedWorker</span>(<span class="string">&#x27;shared-worker.js&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 发送消息</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sendMessage</span>(<span class="params">message</span>) &#123;</span><br><span class="line">  sharedWorker.<span class="property">port</span>.<span class="title function_">postMessage</span>(message);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 接收消息</span></span><br><span class="line">sharedWorker.<span class="property">port</span>.<span class="property">onmessage</span> = <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Received message:&#x27;</span>, event.<span class="property">data</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 发送消息示例</span></span><br><span class="line"><span class="title function_">sendMessage</span>(&#123; <span class="attr">text</span>: <span class="string">&#x27;Hello from another tab!&#x27;</span> &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="Service-Workers"><a href="#Service-Workers" class="headerlink" title="Service Workers"></a>Service Workers</h2><p>虽然 Service Workers 通常用于处理网络请求和缓存，但它们也可以用于标签页之间的消息传递，通过 <code>clients.matchAll</code> 和 <code>client.postMessage</code> 方法来实现。</p>
<p><strong>优点</strong>：</p>
<ul>
<li>强大的功能</li>
<li>可以结合推送通知和后台同步</li>
</ul>
<p><strong>缺点</strong>：</p>
<ul>
<li>相对复杂</li>
<li>需要 HTTPS</li>
<li>仅现代浏览器支持</li>
</ul>
<p><strong>示例代码</strong>：</p>
<p><strong>service-worker.js</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">self.<span class="title function_">addEventListener</span>(<span class="string">&#x27;message&#x27;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  self.<span class="property">clients</span>.<span class="title function_">matchAll</span>().<span class="title function_">then</span>(<span class="function"><span class="params">clients</span> =&gt;</span> &#123;</span><br><span class="line">    clients.<span class="title function_">forEach</span>(<span class="function"><span class="params">client</span> =&gt;</span> &#123;</span><br><span class="line">      client.<span class="title function_">postMessage</span>(event.<span class="property">data</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>主页面</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 注册 service worker</span></span><br><span class="line">navigator.<span class="property">serviceWorker</span>.<span class="title function_">register</span>(<span class="string">&#x27;/service-worker.js&#x27;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">registration</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 发送消息</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">sendMessage</span>(<span class="params">message</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (registration.<span class="property">active</span>) &#123;</span><br><span class="line">      registration.<span class="property">active</span>.<span class="title function_">postMessage</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 接收消息</span></span><br><span class="line">  navigator.<span class="property">serviceWorker</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;message&#x27;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Received message:&#x27;</span>, event.<span class="property">data</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 发送消息示例</span></span><br><span class="line">  <span class="title function_">sendMessage</span>(&#123; <span class="attr">text</span>: <span class="string">&#x27;Hello from another tab!&#x27;</span> &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="总结-4"><a href="#总结-4" class="headerlink" title="总结"></a>总结</h2><p>这些方法都可以在不借助服务端的情况下，实现不同标签页或窗口间的消息传递。根据具体需求和浏览器支持情况，可以选择适合的方法来实现这一功能。</p>
<h1 id="一次性渲染十万条数据保证页面不卡顿"><a href="#一次性渲染十万条数据保证页面不卡顿" class="headerlink" title="一次性渲染十万条数据保证页面不卡顿"></a>一次性渲染十万条数据保证页面不卡顿</h1><h2 id="虚拟列表加载"><a href="#虚拟列表加载" class="headerlink" title="虚拟列表加载"></a>虚拟列表加载</h2><p>虚拟滚动（Virtual Scrolling）的原理是只渲染可视区域内的 DOM 元素，而将不可见的元素移除或不渲染，以此来优化性能，避免因为大量 DOM 元素渲染导致的卡顿问题。</p>
<h3 id="虚拟滚动的原理："><a href="#虚拟滚动的原理：" class="headerlink" title="虚拟滚动的原理："></a>虚拟滚动的原理：</h3><ol>
<li><strong>可视区域和缓冲区</strong>：只渲染可视区域内的元素，同时在可视区域上下增加一定数量的缓冲区元素。</li>
<li><strong>元素位置计算</strong>：通过元素的高度和滚动位置来计算哪些元素应该被渲染。</li>
<li><strong>滚动事件监听</strong>：监听滚动事件，根据滚动位置动态更新渲染的元素。</li>
</ol>
<p>下面是一个用纯 JavaScript 实现虚拟滚动的简单示例。假设我们有一个包含 10 万条数据的列表，并且每个元素的高度是固定的。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Virtual Scrolling Example<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#container</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">overflow-y</span>: auto;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#content</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.item</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">box-sizing</span>: border-box;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;content&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> container = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;container&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> content = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;content&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> totalItems = <span class="number">100000</span>;  <span class="comment">// 总条数</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> itemHeight = <span class="number">30</span>;      <span class="comment">// 每个元素的高度</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> buffer = <span class="number">10</span>;          <span class="comment">// 缓冲区元素数</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 计算容器总高度</span></span></span><br><span class="line"><span class="language-javascript">  content.<span class="property">style</span>.<span class="property">height</span> = <span class="string">`<span class="subst">$&#123;totalItems * itemHeight&#125;</span>px`</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 创建可视区域内的元素</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">function</span> <span class="title function_">createItems</span>(<span class="params">start, end</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> fragment = <span class="variable language_">document</span>.<span class="title function_">createDocumentFragment</span>();</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; end; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> item = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">      item.<span class="property">className</span> = <span class="string">&#x27;item&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">      item.<span class="property">textContent</span> = <span class="string">`Item <span class="subst">$&#123;i + <span class="number">1</span>&#125;</span>`</span>;</span></span><br><span class="line"><span class="language-javascript">      item.<span class="property">style</span>.<span class="property">top</span> = <span class="string">`<span class="subst">$&#123;i * itemHeight&#125;</span>px`</span>;</span></span><br><span class="line"><span class="language-javascript">      fragment.<span class="title function_">appendChild</span>(item);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> fragment;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 更新渲染的元素</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">function</span> <span class="title function_">updateItems</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> scrollTop = container.<span class="property">scrollTop</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> viewportHeight = container.<span class="property">clientHeight</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> start = <span class="title class_">Math</span>.<span class="title function_">floor</span>(scrollTop / itemHeight) - buffer;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> end = <span class="title class_">Math</span>.<span class="title function_">ceil</span>((scrollTop + viewportHeight) / itemHeight) + buffer;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 清空当前的元素</span></span></span><br><span class="line"><span class="language-javascript">    content.<span class="property">innerHTML</span> = <span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 添加新的元素</span></span></span><br><span class="line"><span class="language-javascript">    content.<span class="title function_">appendChild</span>(<span class="title function_">createItems</span>(<span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">0</span>, start), <span class="title class_">Math</span>.<span class="title function_">min</span>(totalItems, end)));</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 监听滚动事件</span></span></span><br><span class="line"><span class="language-javascript">  container.<span class="title function_">addEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>, updateItems);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 初始化渲染</span></span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">updateItems</span>();</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="解释"><a href="#解释" class="headerlink" title="解释"></a>解释</h3><ol>
<li><p><strong>HTML 和 CSS 部分</strong>：</p>
<ul>
<li><code>#container</code> 是滚动容器，设置了固定高度和垂直滚动条。</li>
<li><code>#content</code> 是用于放置所有列表项的容器，设置 <code>position: absolute</code> 以便根据需要移动元素位置。</li>
<li><code>.item</code> 是每个列表项，设置了固定高度。</li>
</ul>
</li>
<li><p><strong>JavaScript 部分</strong>：</p>
<ul>
<li>计算容器的总高度以使滚动条正确显示。</li>
<li><code>createItems</code> 函数根据起始和结束索引创建新的列表项，并返回一个文档片段（<code>DocumentFragment</code>）。</li>
<li><code>updateItems</code> 函数根据滚动位置计算当前可视区域内需要渲染的元素，并更新 <code>#content</code> 容器内的元素。</li>
<li>监听滚动事件，在滚动时调用 <code>updateItems</code> 更新渲染的元素。</li>
<li>初始化时调用 <code>updateItems</code> 渲染初始的元素。</li>
</ul>
</li>
</ol>
<p>这个简单的虚拟滚动示例展示了如何通过只渲染可视区域内的元素来优化性能。在实际项目中，可以使用更复杂的逻辑来处理动态高度的元素、惰性加载数据等情况。</p>
<h2 id="分页加载"><a href="#分页加载" class="headerlink" title="分页加载"></a>分页加载</h2><p>将数据分成多个小块，每次只加载和渲染一部分数据。用户滚动到页面底部时，动态加载更多数据。这种方法适合用户不需要一次性查看所有数据的场景。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;data-list&quot;&gt;</span><br><span class="line">    &lt;div v-for=&quot;item in visibleItems&quot; :key=&quot;item.id&quot; class=&quot;item&quot;&gt;</span><br><span class="line">      &#123;&#123; item.text &#125;&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;button v-if=&quot;hasMore&quot; @click=&quot;loadMore&quot;&gt;Load More&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      items: [],      // 全部数据</span><br><span class="line">      visibleItems: [], // 可见数据</span><br><span class="line">      pageSize: 100,  // 每次加载的数据量</span><br><span class="line">      currentPage: 1, // 当前页码</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    hasMore() &#123;</span><br><span class="line">      return this.visibleItems.length &lt; this.items.length;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    // 生成数据</span><br><span class="line">    for (let i = 0; i &lt; 100000; i++) &#123;</span><br><span class="line">      this.items.push(&#123; id: i, text: `Item $&#123;i&#125;` &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    this.loadMore();</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    loadMore() &#123;</span><br><span class="line">      const start = (this.currentPage - 1) * this.pageSize;</span><br><span class="line">      const end = this.currentPage * this.pageSize;</span><br><span class="line">      this.visibleItems = this.visibleItems.concat(this.items.slice(start, end));</span><br><span class="line">      this.currentPage++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.data-list &#123;</span><br><span class="line">  max-height: 100vh;</span><br><span class="line">  overflow-y: auto;</span><br><span class="line">&#125;</span><br><span class="line">.item &#123;</span><br><span class="line">  height: 30px;</span><br><span class="line">  padding: 10px;</span><br><span class="line">  border-bottom: 1px solid #ccc;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="惰性加载"><a href="#惰性加载" class="headerlink" title="惰性加载"></a>惰性加载</h2><p>在用户滚动时检测元素是否进入视口，只有进入视口的元素才会被渲染。可以使用 Intersection Observer API 来实现这种效果。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;lazy-list&quot;&gt;</span><br><span class="line">    &lt;div</span><br><span class="line">      v-for=&quot;item in items&quot;</span><br><span class="line">      :key=&quot;item.id&quot;</span><br><span class="line">      v-intersect=&quot;loadItem&quot;</span><br><span class="line">      class=&quot;item&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;span v-if=&quot;item.loaded&quot;&gt;&#123;&#123; item.text &#125;&#125;&lt;/span&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      items: []</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    for (let i = 0; i &lt; 100000; i++) &#123;</span><br><span class="line">      this.items.push(&#123; id: i, text: `Item $&#123;i&#125;`, loaded: false &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  directives: &#123;</span><br><span class="line">    intersect: &#123;</span><br><span class="line">      inserted(el, binding) &#123;</span><br><span class="line">        const observer = new IntersectionObserver(entries =&gt; &#123;</span><br><span class="line">          entries.forEach(entry =&gt; &#123;</span><br><span class="line">            if (entry.isIntersecting) &#123;</span><br><span class="line">              binding.value(entry.target);</span><br><span class="line">              observer.unobserve(entry.target);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">        observer.observe(el);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    loadItem(item) &#123;</span><br><span class="line">      const index = this.items.findIndex(i =&gt; i.id === parseInt(item.innerText.split(&#x27; &#x27;)[1]));</span><br><span class="line">      if (index !== -1) &#123;</span><br><span class="line">        this.$set(this.items, index, &#123; ...this.items[index], loaded: true &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.lazy-list &#123;</span><br><span class="line">  max-height: 100vh;</span><br><span class="line">  overflow-y: auto;</span><br><span class="line">&#125;</span><br><span class="line">.item &#123;</span><br><span class="line">  height: 30px;</span><br><span class="line">  padding: 10px;</span><br><span class="line">  border-bottom: 1px solid #ccc;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="虚拟-DOM-节点回收"><a href="#虚拟-DOM-节点回收" class="headerlink" title="虚拟 DOM 节点回收"></a>虚拟 DOM 节点回收</h2><p>将不在视口内的 DOM 节点从文档流中移除，并在需要时重新添加。这样可以减少 DOM 节点的数量，从而提升性能。</p>
<h2 id="按需渲染"><a href="#按需渲染" class="headerlink" title="按需渲染"></a>按需渲染</h2><p>使用 <code>v-if</code> 或 <code>v-show</code> 根据用户交互或滚动位置来动态渲染内容。例如，只渲染当前可见的部分内容，当用户滚动时动态加载并渲染新的内容。</p>
<h2 id="浏览器原生优化"><a href="#浏览器原生优化" class="headerlink" title="浏览器原生优化"></a>浏览器原生优化</h2><p>利用浏览器提供的优化技术，例如 <code>requestAnimationFrame</code>，来批量处理渲染操作，使得渲染过程更加平滑。</p>
<h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><p>每种方法都有其适用的场景和优缺点。根据具体需求和数据量的大小，可以选择合适的方法来优化大数据渲染，确保页面不卡顿。虚拟列表技术（Virtual Scrolling）依然是处理大量数据最常用和高效的方法之一，但在某些特定情况下，分页加载、惰性加载等方法也能提供有效的解决方案。</p>
<h1 id="虚拟列表"><a href="#虚拟列表" class="headerlink" title="虚拟列表"></a>虚拟列表</h1><p>在前端开发中，虚拟列表（Virtual List）是一种优化技术，用于处理大量数据时提高性能。通常，虚拟列表会仅渲染视口内的可见元素，而非一次性渲染所有元素，从而减少 DOM 操作和内存使用。</p>
<p>要在不固定高度情况下实现虚拟列表，有几种常见的方式可以选择。以下是一些方法和实现步骤：</p>
<h3 id="方法一：使用第三方库"><a href="#方法一：使用第三方库" class="headerlink" title="方法一：使用第三方库"></a>方法一：使用第三方库</h3><p>许多第三方库可以帮助你实现虚拟列表，并且支持不固定高度的情况。例如，<code>react-window</code> 和 <code>vue-virtual-scroller</code> 是两个常用的库。</p>
<h4 id="Vue-js-示例：vue-virtual-scroller"><a href="#Vue-js-示例：vue-virtual-scroller" class="headerlink" title="Vue.js 示例：vue-virtual-scroller"></a>Vue.js 示例：<code>vue-virtual-scroller</code></h4><ol>
<li><p>安装 <code>vue-virtual-scroller</code>：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-virtual-scroller</span><br></pre></td></tr></table></figure>
</li>
<li><p>在组件中引入并使用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;RecycleScroller</span><br><span class="line">      :items=&quot;items&quot;</span><br><span class="line">      :item-size=&quot;getItemSize&quot;</span><br><span class="line">      key-field=&quot;id&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;template #default=&quot;&#123; item, index &#125;&quot;&gt;</span><br><span class="line">        &lt;div :key=&quot;item.id&quot; :style=&quot;&#123; height: item.height + &#x27;px&#x27; &#125;&quot;&gt;</span><br><span class="line">          &#123;&#123; item.content &#125;&#125;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/RecycleScroller&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; RecycleScroller &#125; from &#x27;vue-virtual-scroller&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    RecycleScroller</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      items: [</span><br><span class="line">        &#123; id: 1, content: &#x27;Item 1&#x27;, height: 50 &#125;,</span><br><span class="line">        &#123; id: 2, content: &#x27;Item 2&#x27;, height: 100 &#125;,</span><br><span class="line">        // 更多项...</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    getItemSize(item) &#123;</span><br><span class="line">      return item.height</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="方法二：手动实现虚拟列表"><a href="#方法二：手动实现虚拟列表" class="headerlink" title="方法二：手动实现虚拟列表"></a>方法二：手动实现虚拟列表</h3><p>如果你不想依赖第三方库，可以手动实现一个简单的虚拟列表。以下是一个基本思路：</p>
<ol>
<li><strong>创建容器和列表项</strong>：使用 <code>div</code> 容器包裹列表，并通过 <code>v-for</code> 渲染列表项。</li>
<li><strong>计算可见区域和偏移</strong>：监听滚动事件，计算可见区域的起始和结束索引。</li>
<li><strong>仅渲染可见项</strong>：根据可见区域的起始和结束索引，只渲染可见的列表项。</li>
</ol>
<h4 id="Vue-js-示例：手动实现"><a href="#Vue-js-示例：手动实现" class="headerlink" title="Vue.js 示例：手动实现"></a>Vue.js 示例：手动实现</h4><ol>
<li><p>模板部分：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div ref=&quot;container&quot; class=&quot;container&quot; @scroll=&quot;onScroll&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;spacer&quot; :style=&quot;&#123; height: totalHeight + &#x27;px&#x27; &#125;&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div</span><br><span class="line">      v-for=&quot;item in visibleItems&quot;</span><br><span class="line">      :key=&quot;item.id&quot;</span><br><span class="line">      class=&quot;item&quot;</span><br><span class="line">      :style=&quot;&#123; top: itemTop(item) + &#x27;px&#x27;, position: &#x27;absolute&#x27; &#125;&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &#123;&#123; item.content &#125;&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>脚本部分：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      items: [</span><br><span class="line">        &#123; id: 1, content: &#x27;Item 1&#x27;, height: 50 &#125;,</span><br><span class="line">        &#123; id: 2, content: &#x27;Item 2&#x27;, height: 100 &#125;,</span><br><span class="line">        // 更多项...</span><br><span class="line">      ],</span><br><span class="line">      containerHeight: 0,</span><br><span class="line">      scrollTop: 0</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    totalHeight() &#123;</span><br><span class="line">      return this.items.reduce((sum, item) =&gt; sum + item.height, 0)</span><br><span class="line">    &#125;,</span><br><span class="line">    visibleItems() &#123;</span><br><span class="line">      let start = 0, end = 0</span><br><span class="line">      let accumulatedHeight = 0</span><br><span class="line"></span><br><span class="line">      // 计算起始索引</span><br><span class="line">      for (let i = 0; i &lt; this.items.length; i++) &#123;</span><br><span class="line">        if (accumulatedHeight &gt;= this.scrollTop) &#123;</span><br><span class="line">          start = i</span><br><span class="line">          break</span><br><span class="line">        &#125;</span><br><span class="line">        accumulatedHeight += this.items[i].height</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      // 计算结束索引</span><br><span class="line">      for (let i = start; i &lt; this.items.length; i++) &#123;</span><br><span class="line">        accumulatedHeight += this.items[i].height</span><br><span class="line">        if (accumulatedHeight &gt;= this.scrollTop + this.containerHeight) &#123;</span><br><span class="line">          end = i</span><br><span class="line">          break</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      return this.items.slice(start, end + 1)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    this.containerHeight = this.$refs.container.clientHeight</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    onScroll(event) &#123;</span><br><span class="line">      this.scrollTop = event.target.scrollTop</span><br><span class="line">    &#125;,</span><br><span class="line">    itemTop(item) &#123;</span><br><span class="line">      let top = 0</span><br><span class="line">      for (let i = 0; i &lt; this.items.length; i++) &#123;</span><br><span class="line">        if (this.items[i].id === item.id) break</span><br><span class="line">        top += this.items[i].height</span><br><span class="line">      &#125;</span><br><span class="line">      return top</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>样式部分：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">400px</span>; <span class="comment">/* 或其他适合的高度 */</span></span><br><span class="line">  <span class="attribute">overflow-y</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.spacer</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="总结-5"><a href="#总结-5" class="headerlink" title="总结"></a>总结</h3><p>使用第三方库如 <code>vue-virtual-scroller</code> 是一种方便且高效的方式，因为它们已经解决了大部分复杂问题。手动实现则提供了更多的灵活性，适合需要定制化需求的场景。根据你的具体需求选择适合的方法。</p>
<h1 id="路由守卫如何实现"><a href="#路由守卫如何实现" class="headerlink" title="路由守卫如何实现"></a>路由守卫如何实现</h1><p>在 Vue.js 应用中，路由守卫（Router Guards）用于控制导航行为，确保用户只有在满足特定条件时才能访问某些路由。Vue Router 提供了三种类型的路由守卫：</p>
<ol>
<li><strong>全局守卫</strong>：适用于所有路由的导航。</li>
<li><strong>路由级守卫</strong>：仅适用于特定路由。</li>
<li><strong>组件内守卫</strong>：定义在组件内，只影响该组件的导航。</li>
</ol>
<h3 id="全局守卫"><a href="#全局守卫" class="headerlink" title="全局守卫"></a>全局守卫</h3><p>全局守卫可以在路由实例上使用 <code>beforeEach</code> 和 <code>afterEach</code> 方法来定义。</p>
<h4 id="示例：全局前置守卫"><a href="#示例：全局前置守卫" class="headerlink" title="示例：全局前置守卫"></a>示例：全局前置守卫</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/Home.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">About</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/About.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Home</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">&#x27;/about&#x27;</span>, <span class="attr">component</span>: <span class="title class_">About</span>, <span class="attr">meta</span>: &#123; <span class="attr">requiresAuth</span>: <span class="literal">true</span> &#125; &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">  <span class="attr">history</span>: <span class="title function_">createWebHistory</span>(),</span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 全局前置守卫</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (to.<span class="property">matched</span>.<span class="title function_">some</span>(<span class="function"><span class="params">record</span> =&gt;</span> record.<span class="property">meta</span>.<span class="property">requiresAuth</span>)) &#123;</span><br><span class="line">    <span class="comment">// 假设这里有一个方法 `isLoggedIn` 来检查用户是否已登录</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="title function_">isLoggedIn</span>()) &#123;</span><br><span class="line">      <span class="comment">// 如果用户未登录，重定向到登录页面</span></span><br><span class="line">      <span class="title function_">next</span>(&#123; <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span> &#125;)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title function_">next</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="title function_">next</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>

<h3 id="路由级守卫"><a href="#路由级守卫" class="headerlink" title="路由级守卫"></a>路由级守卫</h3><p>路由级守卫在路由配置中定义，使用 <code>beforeEnter</code>。</p>
<h4 id="示例：路由级前置守卫"><a href="#示例：路由级前置守卫" class="headerlink" title="示例：路由级前置守卫"></a>示例：路由级前置守卫</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">About</span>,</span><br><span class="line">    <span class="attr">beforeEnter</span>: <span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 路由级守卫逻辑</span></span><br><span class="line">      <span class="keyword">if</span> (!<span class="title function_">isLoggedIn</span>()) &#123;</span><br><span class="line">        <span class="title function_">next</span>(<span class="string">&#x27;/login&#x27;</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">next</span>()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h3 id="组件内守卫"><a href="#组件内守卫" class="headerlink" title="组件内守卫"></a>组件内守卫</h3><p>组件内守卫直接在组件内定义，使用 <code>beforeRouteEnter</code>、<code>beforeRouteUpdate</code> 和 <code>beforeRouteLeave</code>。</p>
<h4 id="示例：组件内守卫"><a href="#示例：组件内守卫" class="headerlink" title="示例：组件内守卫"></a>示例：组件内守卫</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Profile<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">beforeRouteEnter</span>(<span class="params">to, <span class="keyword">from</span>, next</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 在导航到该组件的路由之前调用</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">if</span> (!<span class="title function_">isLoggedIn</span>()) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">next</span>(<span class="string">&#x27;/login&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125; <span class="keyword">else</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">next</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">beforeRouteUpdate</span>(<span class="params">to, <span class="keyword">from</span>, next</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 在当前路由改变，但仍然渲染该组件时调用</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">if</span> (to.<span class="property">params</span>.<span class="property">id</span> !== <span class="keyword">from</span>.<span class="property">params</span>.<span class="property">id</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// 做一些额外的处理</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">next</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">beforeRouteLeave</span>(<span class="params">to, <span class="keyword">from</span>, next</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 在导航离开该组件的路由之前调用</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">hasUnsavedChanges</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">const</span> answer = <span class="variable language_">window</span>.<span class="title function_">confirm</span>(<span class="string">&#x27;You have unsaved changes. Do you really want to leave?&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">if</span> (answer) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">next</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125; <span class="keyword">else</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">next</span>(<span class="literal">false</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125; <span class="keyword">else</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">next</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">isLoggedIn</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// 检查用户登录状态的逻辑</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> <span class="literal">true</span> <span class="comment">// 或者返回实际的登录状态</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="总结-6"><a href="#总结-6" class="headerlink" title="总结"></a>总结</h3><p>路由守卫提供了强大的工具来控制导航行为。全局守卫适用于全局范围的检查，路由级守卫适用于特定路由的导航控制，组件内守卫适用于需要与组件生命周期紧密结合的导航逻辑。根据实际需求选择合适的守卫类型。</p>
<p>深拷贝是指完全复制一个对象及其嵌套的所有子对象，确保新对象和原对象在内存中是完全独立的。浅拷贝只复制对象的第一层属性，对于嵌套的子对象依旧是引用。</p>
<h1 id="原生路由-history-api-和-react-router-的差距是什么"><a href="#原生路由-history-api-和-react-router-的差距是什么" class="headerlink" title="原生路由 history api 和 react-router 的差距是什么"></a>原生路由 history api 和 react-router 的差距是什么</h1><blockquote>
<p>原生路由 History API 和 React Router、Vue Router 之间的差距主要体现在功能、使用的简便性以及社区支持上。以下是详细的对比：</p>
</blockquote>
<h3 id="1-原生-History-API"><a href="#1-原生-History-API" class="headerlink" title="1. 原生 History API"></a>1. 原生 History API</h3><p><strong>概述</strong>：</p>
<ul>
<li>原生的 History API 是浏览器自带的，提供了基本的路由功能。</li>
<li>通过 <code>window.history.pushState</code> 和 <code>window.history.replaceState</code> 方法，可以在不重新加载页面的情况下更新 URL。</li>
<li>使用 <code>window.onpopstate</code> 监听浏览器的前进和后退按钮事件。</li>
</ul>
<p><strong>优点</strong>：</p>
<ul>
<li>不依赖外部库，纯原生实现，减少了依赖和包的体积。</li>
<li>完全掌控路由行为和历史记录，灵活性高。</li>
</ul>
<p><strong>缺点</strong>：</p>
<ul>
<li>功能有限，只提供了基础的 URL 操作和历史记录管理。</li>
<li>需要手动管理路由状态和 URL 解析，代码量较大。</li>
<li>没有提供高级功能，如路由守卫、嵌套路由、动态加载等。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 更新 URL 并添加一条历史记录</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">history</span>.<span class="title function_">pushState</span>(&#123; <span class="attr">page</span>: <span class="number">1</span> &#125;, <span class="string">&quot;Title&quot;</span>, <span class="string">&quot;/page1&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 监听浏览器的前进和后退按钮</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onpopstate</span> = <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;location: &quot;</span> + <span class="variable language_">document</span>.<span class="property">location</span> + <span class="string">&quot;, state: &quot;</span> + <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(event.<span class="property">state</span>));</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="2-React-Router"><a href="#2-React-Router" class="headerlink" title="2. React Router"></a>2. React Router</h3><p><strong>概述</strong>：</p>
<ul>
<li>React Router 是 React 生态系统中最流行的路由库。</li>
<li>提供了丰富的 API 和组件来管理应用的路由。</li>
<li>支持动态路由、嵌套路由、路由守卫等高级功能。</li>
</ul>
<p><strong>优点</strong>：</p>
<ul>
<li>集成了 React 的组件化开发模式，使用简单直观。</li>
<li>提供了丰富的功能和灵活的路由配置。</li>
<li>社区支持广泛，文档齐全，生态系统丰富。</li>
</ul>
<p><strong>缺点</strong>：</p>
<ul>
<li>需要额外的依赖，增加了包的体积。</li>
<li>学习曲线较原生 API 略高，需要了解 React Router 的用法和概念。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BrowserRouter</span> <span class="keyword">as</span> <span class="title class_">Router</span>, <span class="title class_">Route</span>, <span class="title class_">Switch</span>, <span class="title class_">Link</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Router</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&quot;/&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>About<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Switch</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Route</span> <span class="attr">exact</span> <span class="attr">path</span>=<span class="string">&quot;/&quot;</span> <span class="attr">component</span>=<span class="string">&#123;Home&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&quot;/about&quot;</span> <span class="attr">component</span>=<span class="string">&#123;About&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">Switch</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">Router</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Home</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">About</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>About<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-Vue-Router"><a href="#3-Vue-Router" class="headerlink" title="3. Vue Router"></a>3. Vue Router</h3><p><strong>概述</strong>：</p>
<ul>
<li>Vue Router 是 Vue.js 官方推荐的路由库，专为 Vue.js 设计。</li>
<li>提供了丰富的功能，如嵌套路由、命名视图、路由守卫等。</li>
</ul>
<p><strong>优点</strong>：</p>
<ul>
<li>深度集成 Vue.js，使用方便，符合 Vue 的开发习惯。</li>
<li>提供了直观的路由配置和灵活的导航守卫。</li>
<li>社区支持广泛，文档齐全，生态系统丰富。</li>
</ul>
<p><strong>缺点</strong>：</p>
<ul>
<li>需要额外的依赖，增加了包的体积。</li>
<li>学习曲线较原生 API 略高，需要了解 Vue Router 的用法和概念。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;./components/Home.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">About</span> <span class="keyword">from</span> <span class="string">&#x27;./components/About.vue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Home</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">&#x27;/about&#x27;</span>, <span class="attr">component</span>: <span class="title class_">About</span> &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">  <span class="attr">history</span>: <span class="title function_">createWebHistory</span>(),</span><br><span class="line">  routes</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure>

<h3 id="总结-7"><a href="#总结-7" class="headerlink" title="总结"></a>总结</h3><ul>
<li><strong>原生 History API</strong> 适合简单的应用或希望完全掌控路由行为的场景，但需要更多手动操作和代码。</li>
<li><strong>React Router</strong> 和 <strong>Vue Router</strong> 提供了丰富的功能和更高层次的抽象，适合中大型应用，提升了开发效率和代码可维护性。</li>
<li>选择使用哪个取决于项目需求、开发者的熟悉程度以及所使用的前端框架。</li>
</ul>
<h1 id="实现深拷贝的方法"><a href="#实现深拷贝的方法" class="headerlink" title="实现深拷贝的方法"></a>实现深拷贝的方法</h1><h2 id="方法一：使用-JSON-序列化和反序列化"><a href="#方法一：使用-JSON-序列化和反序列化" class="headerlink" title="方法一：使用 JSON 序列化和反序列化"></a>方法一：使用 JSON 序列化和反序列化</h2><p>这种方法适用于简单对象（不包含函数、<code>Date</code> 对象、<code>undefined</code> 等）。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> original = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Alice&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">25</span>,</span><br><span class="line">  <span class="attr">address</span>: &#123;</span><br><span class="line">    <span class="attr">city</span>: <span class="string">&#x27;Wonderland&#x27;</span>,</span><br><span class="line">    <span class="attr">zip</span>: <span class="string">&#x27;12345&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> deepCopy = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(original))</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(deepCopy)</span><br><span class="line"><span class="comment">// &#123; name: &#x27;Alice&#x27;, age: 25, address: &#123; city: &#x27;Wonderland&#x27;, zip: &#x27;12345&#x27; &#125; &#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="方法二：递归遍历"><a href="#方法二：递归遍历" class="headerlink" title="方法二：递归遍历"></a>方法二：递归遍历</h2><p>递归遍历对象的每一层，进行深拷贝。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (obj === <span class="literal">null</span> || <span class="keyword">typeof</span> obj !== <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> obj</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="title class_">Date</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>(obj)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="title class_">Array</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> copy = []</span><br><span class="line">    obj.<span class="title function_">forEach</span>(<span class="function">(<span class="params">_, i</span>) =&gt;</span> (copy[i] = <span class="title function_">deepClone</span>(obj[i])))</span><br><span class="line">    <span class="keyword">return</span> copy</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="title class_">Object</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> copy = &#123;&#125;</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">keys</span>(obj).<span class="title function_">forEach</span>(<span class="function"><span class="params">key</span> =&gt;</span> (copy[key] = <span class="title function_">deepClone</span>(obj[key])))</span><br><span class="line">    <span class="keyword">return</span> copy</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;Unable to copy obj! Its type isn\&#x27;t supported.&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> original = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Alice&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">25</span>,</span><br><span class="line">  <span class="attr">address</span>: &#123;</span><br><span class="line">    <span class="attr">city</span>: <span class="string">&#x27;Wonderland&#x27;</span>,</span><br><span class="line">    <span class="attr">zip</span>: <span class="string">&#x27;12345&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> deepCopy = <span class="title function_">deepClone</span>(original)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(deepCopy)</span><br><span class="line"><span class="comment">// &#123; name: &#x27;Alice&#x27;, age: 25, address: &#123; city: &#x27;Wonderland&#x27;, zip: &#x27;12345&#x27; &#125; &#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="方法三：使用-Lodash-的-cloneDeep"><a href="#方法三：使用-Lodash-的-cloneDeep" class="headerlink" title="方法三：使用 Lodash 的 cloneDeep"></a>方法三：使用 Lodash 的 <code>cloneDeep</code></h2><p>如果你的项目中使用了 Lodash 库，可以直接使用其提供的 <code>cloneDeep</code> 方法。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> _ = <span class="built_in">require</span>(<span class="string">&#x27;lodash&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> original = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Alice&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">25</span>,</span><br><span class="line">  <span class="attr">address</span>: &#123;</span><br><span class="line">    <span class="attr">city</span>: <span class="string">&#x27;Wonderland&#x27;</span>,</span><br><span class="line">    <span class="attr">zip</span>: <span class="string">&#x27;12345&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> deepCopy = _.<span class="title function_">cloneDeep</span>(original)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(deepCopy)</span><br><span class="line"><span class="comment">// &#123; name: &#x27;Alice&#x27;, age: 25, address: &#123; city: &#x27;Wonderland&#x27;, zip: &#x27;12345&#x27; &#125; &#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="深拷贝注意事项"><a href="#深拷贝注意事项" class="headerlink" title="深拷贝注意事项"></a>深拷贝注意事项</h2><ol>
<li><strong>循环引用</strong>：如果对象包含循环引用，上述方法一和方法二将会失败。需要特殊处理循环引用。</li>
<li><strong>特殊类型</strong>：对象中包含特殊类型（如函数、<code>Date</code>、<code>Map</code>、<code>Set</code>、<code>RegExp</code> 等）时，方法一不适用，需考虑其他方法。</li>
<li><strong>性能</strong>：递归实现的深拷贝在处理大对象时性能可能不佳，需要权衡性能和代码复杂度。</li>
</ol>
<h2 id="处理循环引用的深拷贝示例"><a href="#处理循环引用的深拷贝示例" class="headerlink" title="处理循环引用的深拷贝示例"></a>处理循环引用的深拷贝示例</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">obj, hash = <span class="keyword">new</span> <span class="built_in">WeakMap</span>()</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (obj === <span class="literal">null</span> || <span class="keyword">typeof</span> obj !== <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> obj</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (hash.<span class="title function_">has</span>(obj)) &#123;</span><br><span class="line">    <span class="keyword">return</span> hash.<span class="title function_">get</span>(obj)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="title class_">Date</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>(obj)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="title class_">Array</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> arr = []</span><br><span class="line">    hash.<span class="title function_">set</span>(obj, arr)</span><br><span class="line">    obj.<span class="title function_">forEach</span>(<span class="function">(<span class="params">_, i</span>) =&gt;</span> (arr[i] = <span class="title function_">deepClone</span>(obj[i], hash)))</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="title class_">Object</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> cloneObj = &#123;&#125;</span><br><span class="line">    hash.<span class="title function_">set</span>(obj, cloneObj)</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">keys</span>(obj).<span class="title function_">forEach</span>(<span class="function"><span class="params">key</span> =&gt;</span> (cloneObj[key] = <span class="title function_">deepClone</span>(obj[key], hash)))</span><br><span class="line">    <span class="keyword">return</span> cloneObj</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;Unable to copy obj! Its type isn\&#x27;t supported.&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> original = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Alice&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">25</span>,</span><br><span class="line">  <span class="attr">address</span>: &#123;</span><br><span class="line">    <span class="attr">city</span>: <span class="string">&#x27;Wonderland&#x27;</span>,</span><br><span class="line">    <span class="attr">zip</span>: <span class="string">&#x27;12345&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">original.<span class="property">self</span> = original <span class="comment">// 循环引用</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> deepCopy = <span class="title function_">deepClone</span>(original)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(deepCopy)</span><br><span class="line"><span class="comment">// &#123; name: &#x27;Alice&#x27;, age: 25, address: &#123; city: &#x27;Wonderland&#x27;, zip: &#x27;12345&#x27; &#125;, self: [Circular] &#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="总结-8"><a href="#总结-8" class="headerlink" title="总结"></a>总结</h2><p>深拷贝是确保对象在不同引用间独立存在的重要手段。具体选择哪种实现方式取决于数据的复杂度和具体需求。对于简单的对象结构，JSON 序列化和反序列化是快速而有效的方法；对于复杂数据结构，递归和库方法如 Lodash 的 <code>cloneDeep</code> 更加合适。</p>
<h1 id="在html里延迟加载js文件有哪几种方式"><a href="#在html里延迟加载js文件有哪几种方式" class="headerlink" title="在html里延迟加载js文件有哪几种方式"></a>在html里延迟加载js文件有哪几种方式</h1><ol>
<li>defer</li>
<li>async</li>
<li>将 <code>&lt;script&gt;</code> 标签放在 <code>&lt;/body&gt;</code> 标签之前，这样可以确保 HTML 文档先被解析，在页面底部加载脚本</li>
<li>使用 JavaScript 动态创建 <code>&lt;script&gt;</code> 标签并加载脚本。</li>
</ol>
<h1 id=""><a href="#" class="headerlink" title=""></a></h1></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://Lavender321.github.com">流泪猫猫头</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://lavender321.github.com/2024/07/26/%E5%89%8D%E7%AB%AF%E5%9C%BA%E6%99%AF%E9%A2%98/">http://lavender321.github.com/2024/07/26/%E5%89%8D%E7%AB%AF%E5%9C%BA%E6%99%AF%E9%A2%98/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://Lavender321.github.com" target="_blank">Lavender's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E9%9D%A2%E8%AF%95/">面试</a><a class="post-meta__tags" href="/tags/%E5%9C%BA%E6%99%AF%E9%A2%98/">场景题</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/08/05/hexo%E5%88%9B%E5%BB%BA%E5%8D%9A%E5%AE%A2/" title="hexo创建博客"><img class="cover" src="https://s2.loli.net/2023/01/29/yz4ZcjfxPlEMnUD.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">hexo创建博客</div></div></a></div><div class="next-post pull-right"><a href="/2024/07/26/javascript%E4%BB%A3%E7%A0%81%E8%BE%93%E5%87%BA%E9%A2%98/" title="javascript代码输出题"><img class="cover" src="https://s2.loli.net/2022/10/08/xzepUwCs3gKPWy2.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">javascript代码输出题</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/01/22/CSS%E9%9D%A2%E8%AF%95%E8%AE%B0%E5%BD%95/" title="CSS面试记录"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-22</div><div class="title">CSS面试记录</div></div></a></div><div><a href="/2024/04/19/Javascript%E6%89%8B%E5%86%99%E4%BB%A3%E7%A0%81/" title="Javascript手写代码"><img class="cover" src="https://s2.loli.net/2022/12/31/HYB9fKZPknOqSLz.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-19</div><div class="title">Javascript手写代码</div></div></a></div><div><a href="/2023/02/17/React%E9%9D%A2%E8%AF%95%E9%A2%98/" title="React面试题"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-17</div><div class="title">React面试题</div></div></a></div><div><a href="/2023/02/13/TypeScript%E9%9D%A2%E8%AF%95%E9%A2%98/" title="TypeScript面试题"><img class="cover" src="https://s2.loli.net/2022/12/31/qZrDP8nOQ4tGc6L.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-13</div><div class="title">TypeScript面试题</div></div></a></div><div><a href="/2023/01/27/JavaScript%E6%95%B0%E7%BB%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/" title="JavaScript数组常用方法总结"><img class="cover" src="https://s2.loli.net/2022/12/31/HYB9fKZPknOqSLz.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-27</div><div class="title">JavaScript数组常用方法总结</div></div></a></div><div><a href="/2023/01/19/Vue%E9%9D%A2%E8%AF%95%E9%A2%98%E6%80%BB%E7%BB%93/" title="Vue面试题总结"><img class="cover" src="https://s2.loli.net/2022/10/08/xzepUwCs3gKPWy2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-19</div><div class="title">Vue面试题总结</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://s2.loli.net/2023/03/01/ObQE3TvFKInczfl.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">流泪猫猫头</div><div class="author-info__description">THE TORTURED POETS DEPARTMENT</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">66</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">81</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Lavender321"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Lavender321" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:r1727439300@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content"></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%82%B9%E5%87%BB%E6%8C%89%E9%92%AE%E4%B8%8D%E9%87%8D%E5%A4%8D%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82"><span class="toc-number">1.</span> <span class="toc-text">点击按钮不重复发送请求</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A6%81%E7%94%A8%E6%8C%89%E9%92%AE"><span class="toc-number">1.0.1.</span> <span class="toc-text">禁用按钮</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%8A%82%E6%B5%81%EF%BC%88Throttle%EF%BC%89"><span class="toc-number">1.0.2.</span> <span class="toc-text">使用节流（Throttle）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E9%98%B2%E6%8A%96%EF%BC%88Debounce%EF%BC%89"><span class="toc-number">1.0.3.</span> <span class="toc-text">使用防抖（Debounce）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%AF%B7%E6%B1%82%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86"><span class="toc-number">1.0.4.</span> <span class="toc-text">使用请求状态管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.0.5.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E8%AF%B7%E6%B1%82%E5%B9%B6%E5%8F%91%E7%9A%84%E6%95%B0%E9%87%8F%EF%BC%8C%E4%BE%8B%E5%A6%82%E6%9C%898%E4%B8%AA%E8%AF%B7%E6%B1%82%E9%9C%80%E8%A6%81%E5%8F%91%E9%80%81%EF%BC%8C%E5%A6%82%E4%BD%95%E6%8E%A7%E5%88%B6%E5%90%8C%E6%97%B6%E5%8F%AA%E8%83%BD%E5%B9%B6%E8%A1%8C%E5%8F%91%E9%80%81%E4%B8%A4%E4%B8%AA%E8%AF%B7%E6%B1%82"><span class="toc-number">2.</span> <span class="toc-text">控制请求并发的数量，例如有8个请求需要发送，如何控制同时只能并行发送两个请求</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%B9%B6%E5%8F%91%E9%99%90%E5%88%B6%E5%BA%93"><span class="toc-number">2.0.1.</span> <span class="toc-text">使用并发限制库</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-p-limit"><span class="toc-number">2.0.1.1.</span> <span class="toc-text">使用 p-limit</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-async-%E5%BA%93%E7%9A%84-queue-%E5%8A%9F%E8%83%BD"><span class="toc-number">2.0.1.2.</span> <span class="toc-text">使用 async 库的 queue 功能</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E6%8E%A7%E5%88%B6%E5%B9%B6%E5%8F%91"><span class="toc-number">2.0.2.</span> <span class="toc-text">手动控制并发</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-1"><span class="toc-number">2.0.3.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8E%92%E6%9F%A5%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5"><span class="toc-number">3.</span> <span class="toc-text">排查网络连接</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E7%BD%91%E7%AB%99%E6%98%AF%E5%90%A6%E6%AD%A3%E5%B8%B8%E8%BF%90%E8%A1%8C"><span class="toc-number">3.0.1.</span> <span class="toc-text">检查网站是否正常运行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E7%94%A8%E6%88%B7%E7%9A%84%E7%BD%91%E7%BB%9C%E7%8E%AF%E5%A2%83"><span class="toc-number">3.0.2.</span> <span class="toc-text">检查用户的网络环境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E7%BD%91%E7%AB%99%E7%9A%84%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="toc-number">3.0.3.</span> <span class="toc-text">检查网站的访问控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E7%94%A8%E6%88%B7%E7%9A%84%E8%AE%BE%E5%A4%87"><span class="toc-number">3.0.4.</span> <span class="toc-text">检查用户的设备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%BD%91%E7%BB%9C%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7"><span class="toc-number">3.0.5.</span> <span class="toc-text">使用网络调试工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7"><span class="toc-number">3.0.6.</span> <span class="toc-text">使用命令行工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-2"><span class="toc-number">3.0.7.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%9B%B4%E5%BF%AB%E7%9A%84%E8%AE%A9%E7%94%A8%E6%88%B7%E7%9C%8B%E5%88%B0%E6%B8%B2%E6%9F%93%E7%9A%84%E9%A1%B5%E9%9D%A2"><span class="toc-number">4.</span> <span class="toc-text">如何更快的让用户看到渲染的页面</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E5%8C%96%E9%A1%B5%E9%9D%A2%E5%8A%A0%E8%BD%BD%E9%80%9F%E5%BA%A6"><span class="toc-number">4.0.1.</span> <span class="toc-text">优化页面加载速度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E5%8D%87%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%93%8D%E5%BA%94%E9%80%9F%E5%BA%A6"><span class="toc-number">4.0.2.</span> <span class="toc-text">提升服务器响应速度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E5%8C%96%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C"><span class="toc-number">4.0.3.</span> <span class="toc-text">优化用户体验</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="toc-number">4.0.4.</span> <span class="toc-text">前端性能优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B%E5%92%8C%E6%A1%86%E6%9E%B6%E4%BC%98%E5%8C%96"><span class="toc-number">4.0.5.</span> <span class="toc-text">技术选型和框架优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number">4.0.6.</span> <span class="toc-text">示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-3"><span class="toc-number">4.0.7.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%8D%E5%90%8C%E6%A0%87%E7%AD%BE%E9%A1%B5%E6%88%96%E7%AA%97%E5%8F%A3%E9%97%B4%E7%9A%84%E9%80%9A%E4%BF%A1%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">5.</span> <span class="toc-text">不同标签页或窗口间的通信的方式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#localStorage-%E4%BA%8B%E4%BB%B6"><span class="toc-number">5.1.</span> <span class="toc-text">localStorage 事件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BroadcastChannel-API"><span class="toc-number">5.2.</span> <span class="toc-text">BroadcastChannel API</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Shared-Worker"><span class="toc-number">5.3.</span> <span class="toc-text">Shared Worker</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Service-Workers"><span class="toc-number">5.4.</span> <span class="toc-text">Service Workers</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-4"><span class="toc-number">5.5.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E6%AC%A1%E6%80%A7%E6%B8%B2%E6%9F%93%E5%8D%81%E4%B8%87%E6%9D%A1%E6%95%B0%E6%8D%AE%E4%BF%9D%E8%AF%81%E9%A1%B5%E9%9D%A2%E4%B8%8D%E5%8D%A1%E9%A1%BF"><span class="toc-number">6.</span> <span class="toc-text">一次性渲染十万条数据保证页面不卡顿</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%88%97%E8%A1%A8%E5%8A%A0%E8%BD%BD"><span class="toc-number">6.1.</span> <span class="toc-text">虚拟列表加载</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%BB%9A%E5%8A%A8%E7%9A%84%E5%8E%9F%E7%90%86%EF%BC%9A"><span class="toc-number">6.1.1.</span> <span class="toc-text">虚拟滚动的原理：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E9%87%8A"><span class="toc-number">6.1.2.</span> <span class="toc-text">解释</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E9%A1%B5%E5%8A%A0%E8%BD%BD"><span class="toc-number">6.2.</span> <span class="toc-text">分页加载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%83%B0%E6%80%A7%E5%8A%A0%E8%BD%BD"><span class="toc-number">6.3.</span> <span class="toc-text">惰性加载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F-DOM-%E8%8A%82%E7%82%B9%E5%9B%9E%E6%94%B6"><span class="toc-number">6.4.</span> <span class="toc-text">虚拟 DOM 节点回收</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%89%E9%9C%80%E6%B8%B2%E6%9F%93"><span class="toc-number">6.5.</span> <span class="toc-text">按需渲染</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%8E%9F%E7%94%9F%E4%BC%98%E5%8C%96"><span class="toc-number">6.6.</span> <span class="toc-text">浏览器原生优化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E8%AE%BA"><span class="toc-number">6.7.</span> <span class="toc-text">结论</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%88%97%E8%A1%A8"><span class="toc-number">7.</span> <span class="toc-text">虚拟列表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E4%BD%BF%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93"><span class="toc-number">7.0.1.</span> <span class="toc-text">方法一：使用第三方库</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Vue-js-%E7%A4%BA%E4%BE%8B%EF%BC%9Avue-virtual-scroller"><span class="toc-number">7.0.1.1.</span> <span class="toc-text">Vue.js 示例：vue-virtual-scroller</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0%E8%99%9A%E6%8B%9F%E5%88%97%E8%A1%A8"><span class="toc-number">7.0.2.</span> <span class="toc-text">方法二：手动实现虚拟列表</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Vue-js-%E7%A4%BA%E4%BE%8B%EF%BC%9A%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0"><span class="toc-number">7.0.2.1.</span> <span class="toc-text">Vue.js 示例：手动实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-5"><span class="toc-number">7.0.3.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0"><span class="toc-number">8.</span> <span class="toc-text">路由守卫如何实现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%AE%88%E5%8D%AB"><span class="toc-number">8.0.1.</span> <span class="toc-text">全局守卫</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A%E5%85%A8%E5%B1%80%E5%89%8D%E7%BD%AE%E5%AE%88%E5%8D%AB"><span class="toc-number">8.0.1.1.</span> <span class="toc-text">示例：全局前置守卫</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%BA%A7%E5%AE%88%E5%8D%AB"><span class="toc-number">8.0.2.</span> <span class="toc-text">路由级守卫</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A%E8%B7%AF%E7%94%B1%E7%BA%A7%E5%89%8D%E7%BD%AE%E5%AE%88%E5%8D%AB"><span class="toc-number">8.0.2.1.</span> <span class="toc-text">示例：路由级前置守卫</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E5%86%85%E5%AE%88%E5%8D%AB"><span class="toc-number">8.0.3.</span> <span class="toc-text">组件内守卫</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A%E7%BB%84%E4%BB%B6%E5%86%85%E5%AE%88%E5%8D%AB"><span class="toc-number">8.0.3.1.</span> <span class="toc-text">示例：组件内守卫</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-6"><span class="toc-number">8.0.4.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8E%9F%E7%94%9F%E8%B7%AF%E7%94%B1-history-api-%E5%92%8C-react-router-%E7%9A%84%E5%B7%AE%E8%B7%9D%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">9.</span> <span class="toc-text">原生路由 history api 和 react-router 的差距是什么</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%8E%9F%E7%94%9F-History-API"><span class="toc-number">9.0.1.</span> <span class="toc-text">1. 原生 History API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-React-Router"><span class="toc-number">9.0.2.</span> <span class="toc-text">2. React Router</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Vue-Router"><span class="toc-number">9.0.3.</span> <span class="toc-text">3. Vue Router</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-7"><span class="toc-number">9.0.4.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%B7%B1%E6%8B%B7%E8%B4%9D%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">10.</span> <span class="toc-text">实现深拷贝的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E4%BD%BF%E7%94%A8-JSON-%E5%BA%8F%E5%88%97%E5%8C%96%E5%92%8C%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-number">10.1.</span> <span class="toc-text">方法一：使用 JSON 序列化和反序列化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E9%80%92%E5%BD%92%E9%81%8D%E5%8E%86"><span class="toc-number">10.2.</span> <span class="toc-text">方法二：递归遍历</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%89%EF%BC%9A%E4%BD%BF%E7%94%A8-Lodash-%E7%9A%84-cloneDeep"><span class="toc-number">10.3.</span> <span class="toc-text">方法三：使用 Lodash 的 cloneDeep</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">10.4.</span> <span class="toc-text">深拷贝注意事项</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E5%BE%AA%E7%8E%AF%E5%BC%95%E7%94%A8%E7%9A%84%E6%B7%B1%E6%8B%B7%E8%B4%9D%E7%A4%BA%E4%BE%8B"><span class="toc-number">10.5.</span> <span class="toc-text">处理循环引用的深拷贝示例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-8"><span class="toc-number">10.6.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9C%A8html%E9%87%8C%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BDjs%E6%96%87%E4%BB%B6%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">11.</span> <span class="toc-text">在html里延迟加载js文件有哪几种方式</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">12.</span> <span class="toc-text"></span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/09/18/58/" title="无题"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2024/09/18/58/" title="无题">无题</a><time datetime="2024-09-18T07:21:55.572Z" title="发表于 2024-09-18 15:21:55">2024-09-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/08/31/vite%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%A2%98/" title="vite相关面试题"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="vite相关面试题"/></a><div class="content"><a class="title" href="/2024/08/31/vite%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%A2%98/" title="vite相关面试题">vite相关面试题</a><time datetime="2024-08-31T10:37:40.000Z" title="发表于 2024-08-31 18:37:40">2024-08-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/08/31/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%9D%A2%E8%AF%95/" title="小程序面试"><img src="https://s2.loli.net/2022/12/31/qZrDP8nOQ4tGc6L.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="小程序面试"/></a><div class="content"><a class="title" href="/2024/08/31/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%9D%A2%E8%AF%95/" title="小程序面试">小程序面试</a><time datetime="2024-08-31T07:30:26.000Z" title="发表于 2024-08-31 15:30:26">2024-08-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/08/06/2025-%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/" title="2025-前端面试总结"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2025-前端面试总结"/></a><div class="content"><a class="title" href="/2024/08/06/2025-%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/" title="2025-前端面试总结">2025-前端面试总结</a><time datetime="2024-08-06T03:22:45.000Z" title="发表于 2024-08-06 11:22:45">2024-08-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/08/05/hexo%E5%88%9B%E5%BB%BA%E5%8D%9A%E5%AE%A2/" title="hexo创建博客"><img src="https://s2.loli.net/2023/01/29/yz4ZcjfxPlEMnUD.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="hexo创建博客"/></a><div class="content"><a class="title" href="/2024/08/05/hexo%E5%88%9B%E5%BB%BA%E5%8D%9A%E5%AE%A2/" title="hexo创建博客">hexo创建博客</a><time datetime="2024-08-05T14:43:08.713Z" title="发表于 2024-08-05 22:43:08">2024-08-05</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 流泪猫猫头</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>